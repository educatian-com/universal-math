<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–ª–æ–∂–µ–Ω–∏–µ –¥–æ 100 ‚Äî –ò–≥—Ä–∞</title>
    <style>
        :root {
            --s-blue: #035efc;
            --s-purple: #a259ff;
            --s-bg: #f2f4f7;
            --s-card: #ffffff;
            --s-text: #1d1d1f;
            --radius: 35px;
        }

        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            background-color: var(--s-bg);
            color: var(--s-text);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        /* –®–∞–ø–∫–∞ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º */
        .game-header {
            width: 90%;
            max-width: 450px;
            padding: 25px 0 10px 0;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            font-weight: 800;
            font-size: 1.1em;
            margin-bottom: 12px;
        }

        .progress-line {
            width: 100%;
            height: 8px;
            background: #e0e4e9;
            border-radius: 10px;
            overflow: hidden;
        }

        #bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, var(--s-blue), var(--s-purple));
            transition: 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* –ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞ —Å–æ —Å—Ç–æ–ø–∫–æ–π –∫–∞—Ä—Ç–æ—á–µ–∫ */
        .game-area {
            position: relative;
            width: 90%;
            max-width: 380px;
            height: 420px;
            margin-top: 30px;
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞—Å–ª–æ–µ–Ω–∏—è (–∫–∞—Ä—Ç–æ—á–∫–∏ —Å–∑–∞–¥–∏) */
        .card-shadow-layer {
            position: absolute;
            background: white;
            border-radius: var(--radius);
            box-shadow: 0 10px 20px rgba(0,0,0,0.04);
            width: 100%;
            height: 300px;
            transition: 0.3s;
        }

        .layer-bottom { top: 20px; transform: scale(0.9); opacity: 0.4; z-index: 1; }
        .layer-middle { top: 10px; transform: scale(0.95); opacity: 0.7; z-index: 2; }

        /* –ì–ª–∞–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ */
        .main-card {
            position: absolute;
            top: 0;
            width: 100%;
            background: white;
            border-radius: var(--radius);
            padding: 45px 20px;
            box-sizing: border-box;
            box-shadow: 0 20px 45px rgba(0,0,0,0.08);
            z-index: 3;
            text-align: center;
            border: none;
        }

        .question {
            font-size: 2.5em;
            font-weight: 900;
            margin-bottom: 35px;
            color: var(--s-blue);
            letter-spacing: -1.5px;
        }

        /* –ö–Ω–æ–ø–∫–∏ –≤ —Å—Ç–∏–ª–µ Samsung S25 */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .opt {
            background: #f2f4f7;
            border: none;
            padding: 24px;
            border-radius: 26px;
            font-size: 1.25em;
            font-weight: 700;
            color: var(--s-text);
            cursor: pointer;
            transition: 0.2s cubic-bezier(0.2, 0, 0, 1);
        }

        .opt:active {
            transform: scale(0.92);
            background: #e8eaed;
        }

        .opt.correct { background: #4caf50; color: white; box-shadow: 0 8px 20px rgba(76,175,80,0.3); }
        .opt.wrong { background: #ff5252; color: white; box-shadow: 0 8px 20px rgba(255,82,82,0.3); }

        .back {
            margin-top: auto;
            margin-bottom: 40px;
            text-decoration: none;
            color: var(--s-gray);
            font-weight: 700;
            font-size: 0.95em;
            padding: 10px;
        }
    </style>
</head>
<body>

    <div class="game-header">
        <div class="stats">
            <span>–°–ª–æ–∂–µ–Ω–∏–µ –¥–æ 100</span>
            <span id="score-val">0/10</span>
        </div>
        <div class="progress-line">
            <div id="bar"></div>
        </div>
    </div>

    <div class="game-area">
        <div class="card-shadow-layer layer-bottom"></div>
        <div class="card-shadow-layer layer-middle"></div>
        
        <div class="main-card" id="card-box">
            <div class="question" id="q-text">0 + 0</div>
            <div class="options-grid" id="opt-box"></div>
        </div>
    </div>

    <a href="../index.html" class="back">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>

    <script>
        let step = 0;
        const total = 10;
        
        // –§—É–Ω–∫—Ü–∏—è –∑–≤—É–∫–∞ (Samsung-style –æ—Ç–∫–ª–∏–∫)
        function playTone(type) {
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = ctx.createOscillator();
            const g = ctx.createGain();
            
            if (type === 'win') {
                osc.frequency.setValueAtTime(880, ctx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1200, ctx.currentTime + 0.1);
            } else {
                osc.frequency.setValueAtTime(220, ctx.currentTime);
            }

            osc.type = 'sine';
            g.gain.setValueAtTime(0.1, ctx.currentTime);
            g.gain.exponentialRampToValueAtTime(0.00001, ctx.currentTime + 0.15);
            
            osc.connect(g);
            g.connect(ctx.destination);
            osc.start();
            osc.stop(ctx.currentTime + 0.15);
        }

        function next() {
            if (step >= total) {
                document.getElementById('card-box').innerHTML = "<h2 style='font-size:2em'>üéâ –û—Ç–ª–∏—á–Ω–æ!</h2><p>–¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞—Å—Ç–µ—Ä —Å–ª–æ–∂–µ–Ω–∏—è.</p><button onclick='location.reload()' style='background:var(--s-blue); color:white; border:none; padding:15px 30px; border-radius:20px; font-weight:700; margin-top:20px;'>–ï—â–µ —Ä–∞–∑</button>";
                return;
            }

            const n1 = Math.floor(Math.random() * 60) + 1;
            const n2 = Math.floor(Math.random() * 39) + 1;
            const res = n1 + n2;
            
            document.getElementById('q-text').innerText = `${n1} + ${n2}`;
            
            let variants = [res];
            while(variants.length < 4) {
                let v = res + (Math.floor(Math.random() * 20) - 10);
                if (v > 0 && v <= 100 && !variants.includes(v)) variants.push(v);
            }
            variants.sort(() => Math.random() - 0.5);

            const box = document.getElementById('opt-box');
            box.innerHTML = "";
            variants.forEach(v => {
                const b = document.createElement('button');
                b.className = 'opt';
                b.innerText = v;
                b.onclick = () => {
                    if (v === res) {
                        b.classList.add('correct');
                        playTone('win');
                        step++;
                        document.getElementById('score-val').innerText = `${step}/${total}`;
                        document.getElementById('bar').style.width = (step/total*100) + '%';
                        setTimeout(next, 600);
                    } else {
                        b.classList.add('wrong');
                        playTone('lose');
                        setTimeout(() => b.classList.remove('wrong'), 400);
                    }
                };
                box.appendChild(b);
            });
        }

        next();
    </script>
</body>
</html>
